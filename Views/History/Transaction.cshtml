@model DigiGall.Models.TransactionHistoryViewModel

@{
    ViewData["Title"] = "Transaction History";
}

<h2>Transaction History</h2>

<div class="container mt-4">
    @foreach (var transaction in Model.Transaksis)
    {
        var item = Model.Items.FirstOrDefault(i => i.ItemId == transaction.ItemId);
        <div class="card shadow-sm mb-3" style="background-color: #F3F3F3;">
            <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                    <h5 class="card-title fw-bold">@item?.NamaItem</h5>
                    <p class="mb-1"><i class="bi bi-cash"></i> @transaction.TotalHarga</p>
                    <p class="mb-1 text-muted">
                        @(transaction.TotalHarga > 0 ? "Income" : "Expenditure")
                    </p>
                    <p class="text-success">Success</p>
                </div>
                <div class="text-end">
                    <p class="text-muted">@transaction.TanggalTransaksi.ToString("dddd, d MMMM yyyy")</p>
                    <a href="/details/@transaction.TransaksiId" class="btn btn-primary">View Details</a>
                </div>
            </div>
        </div>
    }
</div>
